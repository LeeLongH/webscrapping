REM No console feedback mode
@echo off
REM Start Docker Desktop

start "" "C:\Program Files\Docker\Docker\Docker Desktop.exe"

REM Wait for Docker to fully start
timeout /t 30

REM Navigate to AIRFLOW dir
cd /d C:\Users\leons\Music\programcki\DAG_jobs_webscrapping

REM Start Airflow containers
docker-compose up -d

REM Wait a little for Airflow scheduler to be ready
timeout /t 30

REM Unpause DAG and trigger it inside the container
docker exec -it dag_jobs_webscrapping-webscrapping-1 airflow dags unpause Job_Scrapping
docker exec -it dag_jobs_webscrapping-webscrapping-1 airflow dags trigger Job_Scrapping

REM wait 1min for py script to webscrap everything
timeout /t 60

REM kill docker containers
docker-compose down

REM if you kill Docker app like he following line, it "corrupts?" Win wifi-driver which needs to be reinstalled:
REM taskkill /IM "Docker Desktop.exe" /F
REM use shutdown instead:
"C:\Program Files\Docker\Docker\DockerCli.exe" -Shutdown